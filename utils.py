
def mean_average_precision(resultList, positiveList):
    seen = 0
    mAP = 0
    for i, doc in enumerate(resultList):
        if doc in positiveList:
            seen += 1
            mAP += seen / (i + 1)
            if seen == len(positiveList):
                break
    # print(mAP)
    mAP /= len(positiveList)
    return mAP

if __name__ == '__main__':
    resList = [1, 2, 3, 6, 7]
    posList = [3, 6]
    print(mean_average_precision(resList, posList))

    posStr = 'FBIS3-20548 FBIS3-22539 FBIS3-22560 FBIS3-22589 FBIS3-26593 FBIS3-41672 FBIS3-41724 FBIS3-60403 FBIS3-60404 FBIS3-60405 FBIS3-60419 FBIS3-60450 FBIS3-60503 FBIS3-60510 FBIS3-60561 FBIS3-60562 FBIS3-61373 FBIS3-9904 FBIS4-22716 FBIS4-24438 FBIS4-2880 FBIS4-30637 FBIS4-33063 FBIS4-33435 FBIS4-38133 FBIS4-4241 FBIS4-45613 FBIS4-45844 FBIS4-5325 FBIS4-57220 FBIS4-67701 FBIS4-67707 FBIS4-67720 FR940126-2-00106 FR940207-2-00089 FR940425-2-00078 FR940425-2-00079 FR940425-2-00080 FR940603-2-00060 FR940620-2-00117 FT921-14537 FT921-16061 FT921-7765 FT924-10652 FT931-11085 FT931-7060 FT932-4485 FT934-1206 FT941-12410 FT944-2489 FT944-2592 LA010589-0059 LA012490-0111 LA012589-0035 LA031190-0116 LA031489-0032 LA043090-0036 LA061289-0041 LA072890-0066 LA080690-0099 LA082490-0065 LA090990-0031 LA100189-0047 LA121789-0162 LA123090-0026'
    posList = posStr.split(' ')
    resStr = 'FBIS4-67701 LA043090-0036 LA031489-0032 FBIS4-30637 FR940126-2-00106 FBIS3-60405 LA072890-0066 FBIS3-60403 FR940620-2-00118 FR940603-2-00060 FR940620-2-00117 FBIS3-60404 FBIS3-22589 FBIS4-67720 FR940425-2-00078 LA082490-0065 FBIS3-60561 FT924-10652 FBIS3-60562 LA031190-0046 FBIS3-60510 FT931-11085 FBIS4-4241 FBIS4-33435 FBIS4-45844 FBIS3-41672 FBIS3-22560 FR940425-2-00080 LA012490-0111 FBIS3-60419 LA123090-0026 LA100189-0047 FBIS3-41724 FBIS4-45613 FBIS3-20548 FT941-12410 FT941-1494 FT944-2489 FT944-2592 FT931-7060 FR940425-2-00079 FT932-4485 FBIS3-60450 FR940207-2-00089 FBIS4-67707 FBIS4-5325 LA090290-0118 LA061289-0032 FBIS4-22716 FT921-14537 FBIS3-26593 LA012589-0035 LA080690-0099 FBIS4-24438 LA031190-0116 FT921-16061 FBIS3-61373 LA121090-0088 FR940126-2-00101 FR940725-0-00049 LA021490-0136 FT924-4045 FR941004-2-00099 FT944-7645 FT923-8655 FR940216-0-00144 FBIS4-38133 FT932-7299 FT934-2428 FT942-8815 FT942-8760 FT932-8458 FT924-2925 LA020290-0059 FT942-17442 FT931-5182 FT943-236 FT943-8733 FT942-11583 FBIS3-60503 FT944-3755 FT923-14692 FT941-2282 FBIS4-1694 FT923-11773 FT933-14611 FT944-17568 LA083189-0023 FT924-2050 FT911-2371 FT931-12481 LA062189-0108 FT934-1206 FT944-3016 FBIS4-7787 LA030489-0015 LA091090-0122 FT924-395 FT942-7527 LA052289-0081 LA051989-0170 FT921-13297 LA041789-0094 FT942-2321 FR940112-0-00083 FT944-12329 LA011089-0103 LA040289-0117 FT923-11184 LA082390-0138 FT931-13060 LA080990-0014 LA111289-0020 FR940610-1-00002 LA051189-0099 FBIS3-2194 FT944-9599 FT934-17002 FR940106-2-00050 FT943-8052 FT921-11087 FBIS3-56203 FBIS4-51510 FT933-11297 FBIS4-14649 FT944-18082 FT943-17107 FT934-13325 FBIS3-57248 FR941222-0-00105 FBIS3-21404 FBIS3-56092 FBIS4-18273 FT933-9613 FBIS3-4004 LA081789-0210 FT921-2151 FBIS3-36634 FBIS3-41150 FR940112-0-00080 FR940127-1-00095 FBIS4-1150 FBIS4-31626 FBIS4-27639 FBIS4-15406 FBIS3-37104 LA091390-0102 FT933-7715 LA040689-0098 FBIS3-51960 FR940516-2-00047 LA012590-0255 FBIS3-37298 FBIS4-63671 FBIS4-32888 FT932-97 FBIS3-7462 LA063089-0166 FT941-4898 FBIS3-48890 FBIS3-59812 FT933-3850 LA081090-0070 FBIS3-21345 FT944-11423 FBIS4-31766 FBIS3-29502 FBIS3-46318 FR940926-2-00068 FR940628-2-00012 FBIS3-8736 FBIS3-56732 LA121890-0112 LA082989-0151 FBIS3-15642 FBIS4-9669 FT932-4585 LA122989-0128 FBIS4-65997 FBIS4-60788 FT944-2439 FBIS3-37589 FT932-8241 FT933-15321 FBIS3-56457 FBIS4-67101 FT943-5775 FBIS4-31237 LA033189-0146 FT922-7225 LA011889-0099 FT934-14187 FT942-11069 FBIS3-53181 FBIS4-61008 LA012090-0034 FBIS3-44009 FR941216-2-00164 LA072890-0043 FBIS3-57702 LA010990-0016 FBIS3-49420 LA052390-0179 FBIS3-9904 FT934-5385 FBIS4-1239 FBIS3-23757 FT921-1541 FR940627-0-00037 FT933-15110 FT922-7629 FT934-11829 LA070690-0033 LA011190-0045 LA102890-0165 FT942-11064 FR940216-0-00248 FBIS3-14788 FBIS3-57646 FBIS4-47990 FBIS4-25124 FR940616-0-00105 LA021389-0064 FT921-4326 FT942-7015 LA111189-0009 FT921-14930 FBIS3-43349 LA012590-0236 FT944-557 FBIS4-26434 FR940414-1-00078 FBIS4-30201 FBIS3-47990 FBIS4-3950 FBIS4-52365 LA082689-0047 FT934-17151 FBIS3-1827 FBIS3-24734 FBIS4-45299 FT941-11921 LA120490-0048 FR941020-0-00018 FR940713-1-00022 FBIS3-37349 FR941219-2-00114 FT943-16476 FBIS4-56923 FR940810-0-00044 FT943-8879 FT943-6530 LA102689-0037 FT933-13145 FT922-11025 FBIS4-52948 LA051190-0206 FBIS4-6621 FBIS3-44097 FT933-13012 FT911-2598 FBIS3-42481 FBIS4-41090 FT924-14703 FBIS3-43126 FBIS4-30052 LA041889-0086 LA090990-0031 LA113089-0004 FBIS3-9785 FT921-6905 FR941102-0-00038 FT942-9221 FBIS3-13432 FBIS4-22790 LA121089-0107 FBIS3-20518 LA042190-0064 FR941216-0-00052 LA110290-0116 FBIS3-48632 LA011289-0093 FBIS4-32610 FBIS3-34011 FBIS4-8558 LA082290-0068 FT941-11938 LA102289-0076 FBIS3-37886 LA030589-0190 FBIS4-40369 FBIS3-35677 LA102790-0033 FT944-3370 LA050489-0162 FBIS3-30918 FT943-15705 FBIS3-35726 LA121290-0121 FT944-17289 FBIS3-4016 FBIS4-1462 FT943-2752 FT944-11553 FT922-13867 FBIS4-38419 FT932-112 LA071289-0146 FT924-15994 FT932-4934 FBIS3-56530 FR940930-0-00165 FT943-10787 FT924-8868 FBIS4-7190 FBIS3-4350 FT931-12918 FBIS4-52514 LA071890-0014 FT931-188 FBIS4-27448 FR940513-2-00195 FT934-737 LA091890-0180 FT921-12355 LA062689-0072 FT921-7765 FBIS3-47858 LA082589-0156 FT944-4110 FBIS4-39816 FT931-12211 FR940919-0-00114 FBIS3-28653 LA120689-0043 FBIS4-56399 FBIS4-45308 FBIS4-16156 FBIS4-54437 FT942-12052 FBIS3-32327 FT922-3887 FBIS4-33827 LA050990-0103 FT934-15031 FBIS3-49424 FT931-617 FT944-10376 FT934-6563 FT921-2704 FBIS3-36868 FBIS3-3614 FR941130-0-00026 LA082490-0042 FBIS4-2279 LA041490-0079 FBIS3-14034 FT933-2058 FBIS4-34146 LA011389-0060 FT924-7178 FT924-4592 FT924-3718 FT921-13035 FT922-14535 FBIS3-16767 LA121390-0060 FT932-12418 FT922-14840 FT933-14325 FBIS4-23420 FR941110-2-00026 FBIS3-44037 FT924-12151 LA102590-0083 FBIS3-33003 FT922-8045 FT941-16312 FT932-17335 FT923-2775 FBIS3-46822 FBIS4-7763 FT932-12234 FT941-11614 FT941-10947 LA072790-0064 FT924-10474 FT933-5662 FBIS3-43515 FT942-11079 FBIS4-56154 FT931-10176 LA072689-0137 FT924-12074 LA122290-0083 LA052889-0175 FT932-14236 FBIS3-32920 LA013190-0146 FBIS3-29174 FT943-286 FR941012-1-00026 FT941-7714 FT924-5128 FT941-13973 FT931-14546 LA092389-0107 FT924-481 FT933-8307 FBIS3-31870 LA051990-0104 FBIS4-16104 FT931-16180 FR941202-0-00124 LA121789-0162 FT924-2579 FT932-11128 FT923-12519 FR941213-0-00048 FT911-1698 FBIS4-10006 FT932-6797 FT931-14647 LA042389-0124 FT932-3142 FBIS4-67332 FBIS3-46827 LA121089-0175 FT923-12101 FBIS4-25962 FBIS4-66980 FBIS4-41414 FT934-679 LA091290-0171 FBIS3-56678 FR941110-0-00059 FT922-14262 FT911-841 LA060589-0012 LA091589-0130 FR940707-2-00100 FBIS3-9982 FT921-10490 FT933-14717 FR940222-0-00020 LA092590-0017 FT924-2071 FR940318-2-00223 FBIS3-1148 FBIS3-2229 FR941206-0-00044 FR940926-1-00009 FR940216-0-00147 FBIS4-55040 FT941-10854 FR940208-2-00069 FBIS4-22508 FT944-17746 FR940527-1-00065 FBIS4-40128 FT911-1439 FT942-13639 LA011490-0120 FT931-11046 FT941-10931 FT922-13243 FT921-11030 FBIS3-10731 FT931-5061 LA020190-0040 FR940304-1-00047 LA062990-0086 FR940405-2-00078 LA121490-0101 FBIS3-11378 FT921-3101 FT933-3213 FT944-18406 FT924-11029 FR940916-1-00044 LA060290-0057 FT933-11361 FT922-7303 FT931-14596 FBIS4-49212 FBIS3-36102 LA033189-0108 FT942-6539 FR940526-1-00024 FBIS3-35695 FBIS3-40813 FT921-7671 FBIS3-42658 FBIS4-65695 LA060290-0124 FBIS4-22497 LA073190-0119 FR940907-1-00046 LA121390-0114 LA061089-0116 FT931-2003 FT911-1304 FT941-12257 LA081590-0023 FR940216-0-00142 FBIS4-66221 FBIS4-63614 LA061089-0071 FBIS4-45309 LA092890-0074 FT931-15239 FBIS4-49086 FBIS4-9672 FBIS4-47032 FT921-10998 FT943-5150 FBIS4-46417 FBIS4-14743 FBIS4-19330 FT933-3301 FT931-11030 FBIS4-31933 FT934-14235 FBIS4-16260 LA022489-0026 LA022889-0056 FT933-12548 FT934-8382 FBIS3-50421 FBIS4-58304 FT921-5933 FBIS4-1113 FT932-16788 FBIS3-38611 LA092390-0036 FT942-11913 FT934-11417 FBIS3-36632 FT944-3578 FBIS3-48296 FBIS4-16753 FBIS4-61111 FBIS4-54611 FT921-3295 FBIS4-52681 FT931-3477 FT932-11628 LA033089-0143 FT941-10378 FT911-4293 LA040889-0026 FT921-5370 FT932-8528 FT933-6258 FT924-12904 FT921-16455 FBIS3-38931 FT931-5221 LA060889-0116 FT943-13066 FT933-7192 FBIS4-34909 FT931-12070 LA033089-0109 FBIS3-35725 FT944-1133 FT933-10092 LA020289-0006 FT933-514 FT944-5011 LA011489-0130 LA092889-0209 FBIS3-52772 FT922-3311 FT934-4626 FT921-6117 FT931-1893 LA090290-0151 LA101289-0074 FT932-4479 FBIS4-63761 FT922-13097 LA032590-0127 FBIS4-14031 FT922-12331 FT931-826 FT941-2101 LA121490-0068 FT921-16530 FT941-10127 FBIS3-9731 FR940505-1-00408 FT922-3021 LA061689-0069 FT931-16632 FT931-1642 LA051090-0125 FT943-7637 LA032390-0011 FBIS4-59790 LA011689-0108 FT922-2958 LA112690-0120 LA072189-0156 FBIS4-39782 FT923-2167 FBIS4-64748 FBIS3-6253 FT944-1297 FT933-7469 LA112689-0013 LA071889-0117 FR941216-0-00047 FBIS3-24853 FT944-17282 FBIS3-37364 FT931-4700 FBIS3-9470 LA032090-0127 FT924-12365 FBIS4-4163 FBIS3-36177 FBIS4-61254 FT932-14343 FBIS3-30692 LA110589-0051 FT923-2388 FBIS3-15922 FT934-8118 LA122390-0199 LA070489-0027 FBIS4-23379 FT932-2634 FT921-5117 FT921-1417 FBIS4-35306 FT944-4790 FT944-11922 FT932-4063 FT931-11956 FBIS4-55871 LA061289-0041 LA032389-0141 FT932-4643 FBIS4-6859 FT941-1763 FT943-4796 FT934-16295 LA031089-0065 FT924-2313 FBIS3-8486 FT932-14904 FBIS4-59541 LA022889-0095 LA080790-0011 LA070989-0181 FBIS3-56665 FT921-12552 FBIS3-42879 LA052290-0071 LA083190-0127 FT944-3348 LA071889-0037 FT942-13283 LA042189-0110 FT934-3421 LA043090-0117 FT931-5524 FBIS4-49485 LA060689-0081 LA042989-0080 FBIS4-42378 LA052989-0018 FT934-3346 FBIS3-14927 FT944-790 FBIS4-16848 FBIS3-55785 FT924-7684 FT942-6020 FBIS3-52088 FR940214-2-00082 LA032290-0185 FT923-6047 LA022389-0228 LA021589-0073 FBIS3-31280 FT943-7352 LA050590-0130 FBIS4-21334 LA090689-0051 FBIS3-32168 LA082389-0092 LA110390-0116 FR941202-2-00095 LA010990-0113 FT942-4125 FT923-14515 LA112290-0044 FT923-12452 FT932-7473 LA080889-0018 FR940720-0-00107 FT932-15917 LA070590-0193 FT924-2057 FT931-14526 FT921-6902 FBIS3-55525 FT933-16219 FT944-15310 FBIS4-41945 FT942-7084 FBIS4-43719 FBIS4-23645 LA013090-0073 FT943-7657 LA052889-0017 LA011589-0206 FT924-10423 LA101689-0101 FT933-14908 FT942-12742 FBIS4-15621 FT924-487 FT931-14878 LA081289-0091 FT923-13608 LA040290-0029 LA021590-0058 FT944-7180 FBIS4-63124 FT931-12697 FT941-2582 LA022389-0080 FBIS4-42423 FBIS3-32976 FT942-2527 FT933-13125 FT941-7280 FT921-2238 FBIS3-48730 FT931-6708 FBIS3-49908 FT944-18791 FT922-13801 FT924-14313 FT942-1006 FT943-5411 LA051090-0194 FBIS4-9445 FT932-8058 FT944-5492 FT923-9637 FBIS3-46834 FR940202-2-00168 FR940511-0-00004 FT934-6482 FT921-1659 FT944-9218 FT943-5046 LA051890-0085 FBIS3-11466 FT923-15742 FT942-6007 FT931-4127 FT931-204 FT943-15752 FT924-10420 FBIS3-24062 FT923-6348 LA020889-0075 LA122089-0069 FT944-18882 FBIS3-36546 FT921-13902 FBIS3-56424 FR941026-0-00056 FBIS4-65162 FBIS4-33815 FBIS3-36589 FT922-518 FT941-12445 FT944-17317 FT934-4261 FT931-13318 LA092490-0029 FBIS3-46583 FBIS4-62773 LA082889-0112 LA031689-0210 FBIS3-6768 FT921-16305 FT932-17093 FT933-5720 FBIS4-32749 FT932-12733 FBIS4-35010 FT931-5017 FT924-3133 LA121290-0023 LA052090-0013 LA052090-0063 LA060590-0174 FT944-11369 FBIS3-30382 FT944-7282 FT934-13282 LA031989-0090 FBIS3-27209 FBIS4-68643 FBIS4-41107 FBIS4-10112 FBIS4-10095 FT943-13253 LA070190-0168 FR940527-1-00067 LA041989-0059 FT943-13961 FBIS3-30473 FBIS3-13453 FBIS4-64132 LA041990-0248 LA100489-0081 LA053090-0168 LA041990-0115 FT942-11670 FT942-15118 LA041290-0025 FT921-1181 FT922-13432 FT942-16497 FT921-10975 FT921-9857 FT942-15910 LA032590-0182 FT921-6012 FT942-13635 FBIS4-32292 LA042090-0167 FT942-8058 LA102790-0118 FT944-6023 FT921-10614 FBIS4-23906 LA101289-0232 FBIS4-44079 FBIS3-16426 FT931-8717 FBIS3-44070 FBIS4-8842 FBIS3-45502 FT933-2591 LA060490-0002 FBIS4-62153 FT941-119 FR941110-0-00058 FBIS4-32174 FT921-5984 LA090889-0053 LA111589-0073 FT941-6459 FBIS4-31390 FT921-6142 FT931-16023 FT933-6758 FBIS3-7978 LA071289-0123 FT934-623 LA112390-0154 FBIS4-9877 LA011890-0132 FBIS4-34439 LA062290-0174 FT934-16817 FBIS3-58860 FT944-150 FBIS3-5135 FBIS4-41636 FT934-8577 FT922-12345 LA010390-0076 FT943-13864 LA071089-0057 FBIS3-56460 FT911-3564 LA120589-0042 FBIS4-63494 FBIS4-45092 FBIS4-452 FBIS4-44115 FT933-6301 FT923-5407 FT941-1473 LA010390-0090 FBIS4-18670 FT942-13157 FBIS4-18353 FT942-3333 FT922-3314 LA040289-0090 FBIS4-6215 FR940617-0-00191 FT924-11514 FBIS4-21111 FBIS3-38370 LA112189-0071 FBIS3-848 LA041890-0056 FBIS3-54999 FR940613-1-00052 FT933-6470 FBIS4-61697 FT924-5006 FR940513-2-00108 FBIS4-21310 LA041389-0200 FT922-12708 FBIS4-21265 FT942-10036 LA121289-0017 FT933-11997 FBIS3-21981 FT941-12471 FT944-3964 LA082389-0147 FT933-7438 FBIS4-4521 FT933-13662 FBIS3-43575 LA050990-0002 FT944-10368 FT911-4382 FBIS4-63288 LA092590-0105 FBIS4-15453 FT932-13477 FBIS3-56670 FT933-13471 FT932-9002 FT941-6296 FBIS4-61790 FT944-61 FT941-10201 FT944-3965 FT924-8872 FBIS4-56163 FBIS3-56733 FT922-13028 FT941-17080 FT933-15032 FT942-6289 FT932-12119 LA063090-0141 FBIS4-63026 FT942-6660 FT932-11101 FT944-363 FT922-9068 FBIS4-36107 FT931-4906 FT931-8043 LA010490-0200 LA110990-0011 FT944-513 FT943-7801 FT943-10432 FT924-2315 LA111789-0105 FT944-9652 FBIS3-11876 LA120290-0185 FT934-778 FT911-2219 FBIS4-23537 LA102790-0154 LA072189-0140 FBIS4-16868 LA061190-0095 LA111589-0094 LA021890-0143 FT931-4928 FT944-8946 FT933-14796 FBIS3-2788 FT943-6376 LA120789-0206 FBIS3-23989 FR941102-1-00074 LA062190-0136 FT921-12555 FT941-11058 FT923-10756 FT942-13634 LA123189-0002 FBIS4-27696 LA032089-0112 FT942-9297 LA110590-0052 LA080389-0066'
    resList = resStr.split(' ')
    print(mean_average_precision(resList, posList))
